# BackTracking Fox 反思 以及 SlimeDungeon 反思





## 1. tilemap中，可以使用'['、']'来旋转素材



## 2. 在摄像机上添加脚本，OnRenderImage()方法可以为相机渲染自己想要的后处理效果，比如画面置灰

这涉及到Shader编程



## 3. 使用TMP字体的时候千万要注意提前设置两个东西：

1. 创建相应的文件：ttf文件右键Create -> TextMeshPro -> Font Assets
2. 创建好后记得设置这个字体文件中GenerationSettings中的Altas Width 和 Altas Height，改成最大即可，不改的话你的字体很可能有的字识别不到，很蛋疼



## 4. 单例模式中，Awake正确的写法应该是这样：

```c#
private void Awake()
{
    if(instance != null)
    {
        Destory(gameobject); // 一定是gameobject，别写成this
        return; // 记得加这个返回
    }
    instance = this;
    DontDestoryOnLoaded(this);
}
```



## 5. 关于UI动画和打开面板即游戏暂停之间的冲突性

说实话我目前还没有解决方案。因为使用Time.timescale = 0来暂停就意味着游戏时间是停止了的，这个时候使用动画也是无效的。



## 6. 在Update中不要开协程，这样会导致开无数个协程；想要在Update中计时直接搞就可以了；



## 7. 在加载场景或者说场景切换时发生了什么，或者说应该怎么做更合理我还不是很清楚



## 8. RigidBody还是太复杂了，用不起来，每次用都会有或多或少的问题



## 9. 关于Lerp，如果想要实现的是线性变化，而不是弹性变化，可能是你写的方法有问题：

a和b是起点和终点，t则是这是处在a和b中的多少，如果是0.5就是一半，如果是0.2就是走了20%

```c#
Vector3.Lerp(Vector3 a, Vector3 b, float t)
```

所以如果你想要实现线性的变化，应该是用Time.deltaTime来控制第三个参数，从0 -> 1自然就是线性的变化了。

```c#
float timer = 0f;
if(timer <= 1.0f)
{
    timer += Time.deltaTime;
    transform.positon = Vector2.Lerp(startPos, endPos, timer);
}
```



## 10. 小地图是怎么实现的

RenderTexture文件配合RawImage组件实现的；然后新建一个新的摄像机，在Culling Mask中专门选择这个地图所在游戏对象的Layer，单独使用这个摄像机来渲染这层Layer的画面，那么就可以实现简单的小地图了。



## 11. 随机地牢的生成

核心的思路就是在随机的在([-1, 1], [-1, 1])这个范围选择坐标，再乘你设置的宽高，就可以随机生成好几个点作为房间的中心点，再通过预制体根据中心点来创建房间就可以了。



## 12. 目前我在协程的使用上还是会出问题，有时候使用协程不满足自己的预期，还需要花时间搞清楚协程的工作原理。



# 小总结

总的来说，SlimeDungeon我国庆在家里花了2天时间共计35个小时左右做完了，第一次参加的GameJam，只有我一个人，所以工作量在阉割了比较多的想法之后还是挺大的。这是我第一次独立完成的算是比较完整的项目吧，之前的SmallFox和DogKnight都不算非常完整，要么就是缺关卡控制，要么就是缺各种各样的东西。确实是对于Unity的理解深了许多，还是要多推敲推敲。

BackTrackingFox是在学校花4天时间完成的，零散时间给我的专注度带来了很大的挑战，因为还要兼顾学习和算法的练习，更重要的是还有信使那边的项目等着我去写，所以压力非常的大。。。不过最后还是在不太满意的情况下完成了。这个demo主要是想要实现时间回溯的功能才做的吧，后来又想到了一个时间暂停的功能，想写的兴趣就起来了，中途还去学习了一下摄像机渲染置灰的部分，涉及到shader了，不过我估计unity有自带的shaderGraph其实也不需要去写shader的代码。写到一半确实是想要放弃的，因为找不到特别好的素材，而且实现的内容也不多，我个人觉得也没什么亮点，趣味性也不够，不过最后还是写完了，可喜可贺可喜可贺。





